let gameIsRunning=true
let y = 0;
let step = 2
let upY=0


let rectx = 370
let recty = 270
let stepRect=2

let points=0

let img

function preload(){
 	 img = loadImage(' data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiwAAAG9CAYAAAA2pS2SAAAPaElEQVR42u3Wsa3CQBBFUScOXSDt0Qo1OHIJJASQbLJUYGmDFcyMz5Nu/rXyZ86ymJmZmZmZnaxL+nlmZgYsErCYmQGLJGAxMwMWCVjMzAxYJGAxMwMWScBiZgYsErCYmQGLJGAxMwMWCVjMzAxYJGAxMwMWScBiZgYsErCYmRmwSMBiZgYskoDFzAxYJGAxMwMWScBiZgYsErCYmRmwSMBiZgYskoDFzAxYJGAxMzNgkYDFzAxYJAGLmRmwSMBiZgYskoDFzAxYJGAxMzNgkYDFzAxYJAGLmRmwSMBiZmbAIgGLmRmwSAIWMzNgkYDFzAxYJAGLmRmwSMBiZmbAIgGLmRmwSAIWMzNgkYDFzMyARQIWM3OIM9R3ZS3i9/R5vzQQRJkZsAALsAALsACLGbAAi4AFWIDFzIAFWAQswAIsZsAiYAEWYAEWYDEDFmARsAhYzAxYgEXAAizAYgYswCJgARZgMTNgARYBC7AAi5kBC7AAC7AAC7CYAQuwCFiABVjMDFiARcACLMBiBiwCFmABFmABFjNgARYBi4DFzIAFWAQswAIsZsACLAIWYAEWMwMWYBGwAAuwmBmwAAuwAAuwAIsZsACLgAVYgMXMgAVYBCzAAixmwCJgARZgARZgMQMWYBGwCFjMDFiARcACLMBiBizAImABFmAxM2ABFgELsACLmQELsAALsAALsJgBC7AIWIAFWMwMWIBFwAIswGIGLAIWYAEWYAEWM2ABFgGLgMXMgAVYBCzAAixmwAIsAhZgARYzAxZgEbAAC7CYGbAAC7AAC7AAixmwAIuABViAxcyABVgELMACLGbAImABFmABFmAxOHCIBQdwIIiCKAMWYBGwOLICFjNgkYBFwAIsBizAImABFgELsBiwOLICFglYzIBFwAIsAhZgMWABFgELsAhYzIBFAhYJWAxYgEXAAiwCFmAxYAEWAYsELGbAIgGLgAVYDFiARcACLAIWYDFgkYBFAhYzYBGwAIuABVgMWIBFwAIsAhYzYJGARQIWAxZgEbAAi4AFWAxYgEXAIgGLGbBIwCJgARYDFmARsACLgAVYDFgkYJGAxQxYBCzAImABFgMWYBGwAIuAxQxYJGCRgMWABVgELMAiYAEWAxZgEbBIwGIGLBKwCFiAxYAFWAQswCJgARYDFglYJGAxAxYBC7AIWIDFgAVYBCzAImAxAxYJWCRgMWABFgELsAhYgMWABVgELBKwmAGLBCwCFmAxYAEWAQuwCFiAxYBFAhYJWBxiCaKABVgEBxe6wcAiYBGwAAuwOMTAAiwCFgGLgAVYgEUCFmABFgELsHgsAYuABViABVi8E7AIWAQsAhY3GFgELA4/sACLgAVYgEXAImARsAALsEjAAizAImABFo8lYBGwAAuwOMTAAiwCFgGLgAVYgEUCFmABFgELsHgsAYuABViABVi8E7AIWAQsAhY3GFgELAIWYBGwAAuwCFgELAIWYAEWCViABVgELMDisQQsAhZgARaHGFiARcAiYBGwAAuwSMACLMAiYAEWjyVgEbAAC7AAi3cCFgGLgEXA4gYDi4BFwAIswOIQAwuwCFgELAIWYAEWCViABVgELMDisQQsAhZgARaHGFiARcAiYBGwAAuwSMACLMAiYAEWjyVgEbAAC7AAi3cCFgGLgEXA4gYDi4BFwAIswOIQAwuwCFgELAIWYAEWCViABVgELMDisQQsAhZgARaHGFiARcAiYBGwAAuwSMACLMAiYAEWjyVgEbAAC7AAy1/fKdwf1lqTpgVRwAIsigoW7wQsErAAC7AIWIAFWAQswAIsAhZgARYJWOTACFi8E7AIWIAFWIAFWHxPwAIsAhZgARY5xMACLBKwAIsDI2ABFmARsAALsAALsAALsACLgEXAImDxTsAiAQuwAIuABViARcACLMAiYAEWYJGABVgcGAGLdwIWAQuwAAuwAIvvCViARcACLMAihxhYgEUCFmBxYAQswAIsAhZgARZgARZgARZgEbAIWAQs3glYJGABFmARsAALsAhYgAVYBCzAAiwSsACLAyNg8U7AImABFmABFmDxPQELsAhYgAVY5BADC7BIwAIsDoyABViARcACLMACLMACLMACLAIWAYuAxTsBiwQswAIsAhZgARYBC7AAi4AFWIBFAhZgcWAELMACLAIWYAEWYAEW3xOwAIuABViARQ4xsACLBCzA4sAIWIAFWAQswAIswAIswAIswCJgEbAIWLwTsEjAAizAImABFmARsAALsAhYgAVYJGABFgdGwAIswCJgARZgARZg8T0BC7BIEAVRECWwAxYJWIAFWBxZAQuwSMAiYBGwAAuwCFiABViARcACLBKwAAuwSMACLBKwAAuwCFiARQIWYAEWYBGwAIsELMACLBKwAIsELMACLAIWYJGABViARQIWYJGARcAiYAEWYBGwAAuwAIuABVgkYAEWYJGABVgkYAEWYBGwAIsELMACLMAiYAEWCVhABFgkYAEWCViABVgELMAiAQuwAIsELMAiAYuARcACLMAiYAEWYAEWAQuwSMACLMAiAQuwSMACLMAiYAEWCViABViARcACLBKwwAiwSMACLBKwAAuwCFiARQIWYAEWCViARQIWAYuABViARcACLMACLAIWYJGABViARQIWYJGABViARcACLBKwAAuwAIuABVgkYBGwSMACLBKwAAuwCFiARQIWYAEWCViARQIWAYuABViARcACLMACLAIWYJGABViARQKWmT3va7gc2bxF/J6ARdURJQELsAhYgEXAImABFmABFmARsEjAAiwCFmARsEjAAiwCFmABFglYgEXAAiwCFglYgEXAAiwCFglYgAVYgAVYgEUCFmARsACLgEUCFmARsACLgEXAAizAAizAImCRgAVYBCzAImCRgAVYBCzAAiwSsACLgAVYBCwSsACLgAVYBCwSsAALsAALsACLBCzAImABFgGLBCzAImABFgGLgAVYgAVYgEXAIgELsAhYgEXAIgELsAhYgAVYJGABFgELsAhYJGABFgELsAhYJGABFmABFmABFglYgEXAAiwCFglYgEXAAiwCFgELsAALsACLgEUCFmARsACLgEUCFmARsAALsEjAAiwCFmARsEjAAiwCFmARsEjAAizAAizAAiwSsACLgAVYBCwSsACLgAVYBCwCFmABFmABFgGLBCzAImABFgGLBCzAImABFmCRKoEl4iBKcCA4GP19uq1S6YAFWIAFWAQsErAAi4AFWIAFWCRgARYBi4DFQROwAAuwAAuwCFgkYAEWAYuABVgkYAEWAYuARQIWYBGwAAuwAIsELMAiYBGwAIuABViABViARcAiAQuwCFiABViARQIWYBGwCFgcNAELsAALsACLgEUCFmARsAhYgEUCFmARsAhYJGABFgELsAALsEjAAiwCFgELsAhYgAVYgAVYBCwSsACLgAVYgAVYJGABFgGLgEUCFmABFmABFgGLBCzAImARsACLBCzAAizAImCRgAVYBCzAAizAIgELsAhYBCzAImABFmABFmARsEjAAiwCFmABFmCRgAVYBCwCFglYgAVYgAVYBCwSsACLgEXAAiwSsAALsACLgEUCFmARsAALsACLBCzAImARsACLgAVYgAVYgEXAIgELsAhYgAVYgEUCFmARsAhYJGABFmABFmARsEjAkmNdOTsem5IGB8M/5lL1DFiARcACLBKwAIuARcACLBKwAIuABViAxf+5gMWABVgELMAiAQuwCFgELMAiAQuwAIvDDyzAIgELsAhYBCzAIgELsAhYgAVYgEXAYsACLAIWYJGABVgELAIWYJGABVgELMACLBKwGLAAi4AFWCRgARYBi4AFWCRgARZgEbAAiwQswCJgEbAAiwQswCJgARZgARYBiwELsAhYgEUCFmARsAhYgEUCFmARsAALsEjAYsACLAIWYJGABVgELAIWYJGABViARcACLBKwAIuARcACLBKwAIuABViABVgELAYswCJgARYJWIBFwCJgARYJWIBFwAIswCIBiwELsAhYgEUCFmARsAhYgEUCFmABFgELsEjAAiwCFgELsEjAAiwCFmABFmARsBiwAIuABVgkYAEWAYuABVgkYAEWAQuwAIsELOZjARYBC7BIwAIsDrEEUXUQpbwBC7AAiwQswCJgARZgkQQsErAYsEgCFgELsAALsEjAAiwCFmABFknAIgELsACLBCzAImABFmABFglYgEXAYsAiCVgELMACLMAiAQuwCFiABVgkAYsELMACLBKwAIuABViABVgkYAEWAQuwAIskYJGABViARQIWYBGwAAuwAIsELMAiYDFgkQQsAhZgARZgkYAFWAQswAIskoBFAhZgARYJWIBFwAIswAIsErAAi4AFWIBFErBIwAIswCIBC7AIWIAFWIBFAhZgEbAYsEgCFgELsAALsEjAAiwCFmABFknAIgELsACLBCzAImABFmABFglYgEXAAizAIglYJGABFmCRgAVYBCzAAizAIgELsAhYDFgkAYuABViABVgkYAEWAQuwAIskYJGABViARQIWYBGwAAuwAIsELMAiYAEWiLpYjqwgSoIDAxZgkYBFwGIGLMAiAYuAxYAFWCRgkYDFgAVYJGARsBiwCFgELBKwGLAAiwQsAhYzYAEWCVgELAYswOKgCVgkYDFgARYJWAQsZsACLBKwCFgMWIBFAhYJWAxYgEUCFgGLAYuARcAiAYsBC7BIwCJgMQMWYJGARcBiwAIsErBIwGLAAiwSsAhYzIAFWCRgEbAYsACLBCwSsBiwAIsELAIWAxYBi4BFAhYDFmCRgEXAYgYswCIBi4DFgAVYJGCRgMWABVgkYBGwmAELsEjAImAxYAEWCVgkYDFgARYJWAQsBiwCFgGLBCwGLMAiAYuAxQxYgEUCFgGLAQuwSMAiAYsBC7BIwCJgMQMWYJGARcBiwAIsErBIwGLAAiwSsAhYzAzs5MCYmRmwSMBiZmbAIgGLmRmwSMBiZmbAIgGLmZkBiwQsZmbAIgGLmZkBiwQsZmYGLAIWMzMDFglYzMwMWCRgMTMDFglYzMwMWCRgMTMzYJGAxcwMWCRgMTMzYJGAxczMgEXAYmZmwCIBi5mZAYsELGZmwCIBi5mZAYsELGZmBiwSsJiZAYsELGZmBiwSsJiZGbAIWMzMDFgkYDEzM2CRgMXMDFgkYDEzM2CRgMXMzIBFAhYzM2CRgMXMzIBFAhYzMwMWAYuZmQGLBCxmZgYsErCYmQGLBCxmZgYsErCYTdwXntsd1Nb0qOwAAAAASUVORK5CYII=');	 
}

function setup() {
    createCanvas(400, 400);
}


function draw() {
   background("lightblue");
   textSize(32);
   text("My Flappy",50,50)
   textSize(20);
   text("points "+ points,300,50)
  
   if (!gameIsRunning){
     step=0;
     stepRect=0;
     textSize(32);
     text("Game over",120,120)
   }
  
   rect(rectx,recty, 30,170)
   rectx -= stepRect
  
   if (rectx == -30){
      points++
      rectx=410
   }
  
  // circle(190, y +=step , 30);
  image(img,190,y +=step, img.width * .1, img.height*.1); 
    
   step= step*1.01
   if(y > 375) {
      // step=0
      gameIsRunning=false
   }
  
   if(y<upY && step<0){
  	  step = 2
   }
  	  
   // overlap -- to improve
	 if ( (rectx > 173) && (rectx < 207)){     
      	if (y>270){
          console.log("hit")
              gameIsRunning=false
        }
    }
}

function mouseClicked() {
    step = -10
    upY = y-100
}